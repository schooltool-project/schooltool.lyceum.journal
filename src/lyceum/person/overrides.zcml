<?xml version="1.0"?>
<configure xmlns="http://namespaces.zope.org/zope"
           xmlns:security="http://schooltool.org/securitypolicy"
           xmlns:i18n="http://namespaces.zope.org/i18n"
           i18n_domain="lyceum">

  <utility factory=".person.PersonFactoryUtility" />

  <security:crowd
      name="person_info_viewers"
      factory="schooltool.basicperson.security.PersonInfoViewersCrowd" />

  <adapter
      for="schooltool.person.interfaces.IPersonContainer"
      factory=".person.getPersonContainerCatalog"
      provides="zope.app.catalog.interfaces.ICatalog" />

  <configure
      xmlns:zcml="http://namespaces.zope.org/zcml"
      zcml:condition="have devmode">

    <utility
        factory="schooltool.basicperson.sampledata.SampleBasicStudents"
        provides="schooltool.sampledata.interfaces.ISampleDataPlugin"
        name="students"
        />

    <utility
        factory="schooltool.basicperson.sampledata.SampleBasicTeachers"
        provides="schooltool.sampledata.interfaces.ISampleDataPlugin"
        name="teachers"
        />

  </configure>

  <include package="schooltool.basicperson.browser" file="overrides.zcml" />

</configure>
