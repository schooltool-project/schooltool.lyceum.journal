<metal:block use-macro="view/@@standard_macros/page" i18n:domain="lyceum">

  <metal:block fill-slot="title">
    <title i18n:translate="">Import school data from CSV</title>
  </metal:block>

  <metal:block metal:fill-slot="body">
    <form tal:attributes="action request/URL"
          method="POST" class="standalone"
          enctype="multipart/form-data">
      <h3 i18n:translate="">Import school data from CSV</h3>

      <fieldset>
        <legend i18n:translate="">Students</legend>

        <div class="row">
          <div class="label">
            <label for="students_csv" i18n:translate="">Students</label>
          </div>
          <p class="hint"></p>
          <div class="field">
            <input type="file" id="students_csv" name="students_csv" />
          </div>
          <div class="clear">&nbsp;</div>
        </div>

        <div class="controls">
          <input type="submit" id="IMPORT_STUDENTS" name="IMPORT_STUDENTS" value="Import" class="button-ok"
                 i18n:attributes="value submit-button;" />
        </div>
      </fieldset>

      <fieldset>
        <legend i18n:translate="">Titmetables</legend>

        <tal:if condition="not:view/terms">

          <div class="row">
            No terms found! You should add some terms before importing
            timetables or generate a set of predefined terms.
          </div>

          <div class="controls">
            <input type="submit" id="GENERATE_TERMS_2006" name="GENERATE_TERMS_2006" value="Generate Terms for year 2006" class="button-ok"
                   i18n:attributes="value" />
          </div>
          <div class="controls">
            <input type="submit" id="GENERATE_TERMS_2007" name="GENERATE_TERMS_2007" value="Generate Terms for year 2007" class="button-ok"
                   i18n:attributes="value" />
          </div>
        </tal:if>


        <tal:if condition="view/terms">

          <div class="row">
            <div class="label">
              <label for="TERM" i18n:translate="">For term:</label>
            </div>
            <p class="hint"></p>

            <div class="field">
              <select name="TERM" id="TERM">
                <option tal:repeat="term view/terms"
                        tal:content="term/title"
                        tal:attributes="value term/__name__" />
              </select>
            </div>
            <div class="clear">&nbsp;</div>
          </div>

          <tal:block i18n:domain="schooltool">
            <div class="row">
              <div class="label">
                <label for="weekday0_csv" i18n:translate="">Monday</label>
              </div>
              <p class="hint"></p>
              <div class="field">
                <input type="file" id="weekday0_csv" name="weekday0_csv" />
              </div>
              <div class="clear">&nbsp;</div>
            </div>

            <div class="row">
              <div class="label">
                <label for="weekday1_csv" i18n:translate="">Tuesday</label>
              </div>
              <p class="hint"></p>
              <div class="field">
                <input type="file" id="weekday1_csv" name="weekday1_csv" />
              </div>
              <div class="clear">&nbsp;</div>
            </div>


            <div class="row">
              <div class="label">
                <label for="weekday2_csv" i18n:translate="">Wednesday</label>
              </div>
              <p class="hint"></p>
              <div class="field">
                <input type="file" id="weekday2_csv" name="weekday2_csv" />
              </div>
              <div class="clear">&nbsp;</div>
            </div>

            <div class="row">
              <div class="label">
                <label for="weekday3_csv" i18n:translate="">Thursday</label>
              </div>
              <p class="hint"></p>
              <div class="field">
                <input type="file" id="weekday3_csv" name="weekday3_csv" />
              </div>
              <div class="clear">&nbsp;</div>
            </div>

            <div class="row">
              <div class="label">
                <label for="weekday4_csv" i18n:translate="">Friday</label>
              </div>
              <p class="hint"></p>
              <div class="field">
                <input type="file" id="weekday4_csv" name="weekday4_csv" />
              </div>
              <div class="clear">&nbsp;</div>
            </div>
          </tal:block>

          <div class="controls">
            <input type="submit" id="IMPORT_TIMETABLES" name="IMPORT_TIMETABLES" value="Import" class="button-ok"
                   i18n:attributes="value submit-button;" />
          </div>
        </tal:if>
      </fieldset>

    </form>
  </metal:block>

</metal:block>
